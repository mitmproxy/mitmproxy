#!/usr/bin/env python3

import json
from pathlib import Path


def generate_web_columns():
    AVAILABLE_WEB_COLUMNS = [
        "tls",
        "icon",
        "index",
        "path",
        "method",
        "version",
        "status",
        "size",
        "time",
        "timestamp",
        "quickactions",
        "comment",
    ]
    DEFAULT_WEB_COLUMNS = ["tls", "icon", "path", "method", "status", "size", "time"]

    output = f"""
# Auto-generated by generate_web_columns.py
AVAILABLE_WEB_COLUMNS = {json.dumps(AVAILABLE_WEB_COLUMNS, indent=4)}
DEFAULT_WEB_COLUMNS = {json.dumps(DEFAULT_WEB_COLUMNS, indent=4)}
"""

    output_path = Path("mitmproxy/tools/web/web_columns.py")
    with open(output_path, "w") as file:
        file.write(output.strip())

    print(f"Generated {output_path}")


if __name__ == "__main__":
    generate_web_columns()
