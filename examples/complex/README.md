# Complex Scripts

**change_upstream_proxy.py**  Dynamically change the upstream proxy.

**dns_spoofing.py**           Use mitmproxy in a DNS spoofing scenario.

**dup_and_replay.py**         Duplicates each request, changes it, and then replays the modified request.

**fail_with_500.py**          Turn every response into an Internal Server Error.

**filt.py**                  Use mitmproxy's filter expressions in your script.

**flowwriter.py**             Only write selected flows into a mitmproxy dumpfile.

**nonblocking.py**            Demonstrate parallel processing with a blocking script.

**proxapp.py**                How to embed a WSGI app in a mitmproxy server.

**stub.py**                   Script stub with a method definition for every event.

**tls_passthrough.py** This inline script allows conditional TLS Interception based on a user-defined strategy.

**har_dump.py**    This inline script can be used to dump flows as HAR files.

**flowbasic**                 Basic use of mitmproxy as a library.

**tcp_message.py**            Modifies packets containing "foo" to "bar".

**full_transparency_shim.c**  This setuid wrapper can be used to run mitmproxy in full transparency mode, as a normal user.

**pathod**  Testing the requests module with a single pathod instance started for the test suite.

**remote_debug.py**     This script enables remote debugging of the mitmproxy *UI* with PyCharm.  

**flowfilter.py**      This scripts demonstrates how to use mitmproxy's filter pattern in scripts.

**sslstrip.py** This script steps in the middle of new SSL connections

**mitmproxywrapper.py**       Bracket mitmproxy run with proxy enable/disable on OS X

